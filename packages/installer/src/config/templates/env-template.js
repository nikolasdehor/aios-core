/**
 * .env Template Generator
 * Story 1.6: Environment Configuration
 *
 * Generates .env file with secure defaults and helpful comments
 *
 * @module env-template
 */

/**
 * Generate .env file content
 *
 * @param {Object} apiKeys - API keys provided by user
 * @param {string} [apiKeys.openai] - OpenAI API key (optional)
 * @param {string} [apiKeys.anthropic] - Anthropic API key (optional)
 * @param {string} [apiKeys.clickup] - ClickUp API key (optional)
 * @param {string} [apiKeys.github] - GitHub token (optional)
 * @param {string} [apiKeys.exa] - Exa API key (optional)
 * @returns {string} .env file content
 */
function generateEnvContent(apiKeys = {}) {
  const content = `# AIOS Environment Configuration
# Generated by AIOS Installer
# DO NOT commit this file - it contains sensitive credentials

# ============================================================================
# AIOS Core Configuration
# ============================================================================
NODE_ENV=development
AIOS_VERSION=2.1.0

# ============================================================================
# AI Providers (at least one recommended)
# ============================================================================
# OpenAI API Key - Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY=${apiKeys.openai || ''}

# Anthropic API Key - Get yours at: https://console.anthropic.com/
ANTHROPIC_API_KEY=${apiKeys.anthropic || ''}

# ============================================================================
# Optional Services
# ============================================================================
# ClickUp API Key - For task management integration
# Get yours at: https://app.clickup.com/settings/apps
CLICKUP_API_KEY=${apiKeys.clickup || ''}

# GitHub Personal Access Token - For GitHub integration
# Create at: https://github.com/settings/tokens
GITHUB_TOKEN=${apiKeys.github || ''}

# Exa API Key - For web search capabilities
# Get yours at: https://exa.ai/
EXA_API_KEY=${apiKeys.exa || ''}

# ============================================================================
# Database Configuration (if applicable)
# ============================================================================
# DATABASE_URL=postgresql://user:password@localhost:5432/dbname

# ============================================================================
# Custom Configuration
# ============================================================================
# Add your custom environment variables below
`;

  return content;
}

/**
 * Generate .env.example file content (no sensitive data)
 *
 * @returns {string} .env.example file content
 */
function generateEnvExample() {
  const content = `# AIOS Environment Configuration Template
# Copy this file to .env and fill in your actual values
# DO NOT commit .env with real credentials

# ============================================================================
# AIOS Core Configuration
# ============================================================================
NODE_ENV=development
AIOS_VERSION=2.1.0

# ============================================================================
# AI Providers (at least one recommended)
# ============================================================================
# OpenAI API Key - Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic API Key - Get yours at: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# ============================================================================
# Optional Services
# ============================================================================
# ClickUp API Key - For task management integration
# Get yours at: https://app.clickup.com/settings/apps
CLICKUP_API_KEY=

# GitHub Personal Access Token - For GitHub integration
# Create at: https://github.com/settings/tokens
GITHUB_TOKEN=

# Exa API Key - For web search capabilities
# Get yours at: https://exa.ai/
EXA_API_KEY=

# ============================================================================
# Database Configuration (if applicable)
# ============================================================================
# DATABASE_URL=postgresql://user:password@localhost:5432/dbname

# ============================================================================
# Custom Configuration
# ============================================================================
# Add your custom environment variables below
`;

  return content;
}

module.exports = {
  generateEnvContent,
  generateEnvExample
};
